!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("betterFetcher",[],t):"object"==typeof exports?exports.betterFetcher=t():e.betterFetcher=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){t=e.exports={};var n="",r=5e3,o="same-origin",u={GET:{},POST:{},PUT:{},DELETE:{},ALL:{}},i="",c=!1;function a(e,t){return p(t.timeout||r,fetch(e,t.init)).then(function(e){if(e.ok)return e;throw e})}function f(e,t,n){var r;return t=s(t,n),(r=e)===Object(r)&&(e=JSON.stringify(e),t.init.headers={"Content-type":"application/json"}),t.init.body=e,t}function s(e,t){return e||(e={}),e.init||(e.init={}),e.init.method||(e.init.method=t),e.init.defaultCredentials||(e=function(e){return e.init.defaultCredentials=o,e}(e)),e=function(e,t){const n={};Object.keys(u.ALL).forEach(e=>n[e]=u.ALL[e]),Object.keys(u[t]).forEach(e=>n[e]=u[t][e]),e.init.header&&Object.keys(e.init.header).forEach(t=>n[t]=e.init.header[t]);Object.keys(n).length>0&&(e.init.headers=n);return e}(e,t)}function l(e){if(e){if(e.ok)return e;throw e}return new Promise(function(e,t){t("No response")})}function d(e,t,n){if(!c)return t.dataType?h(e,t).then(function(e){t.handleCachedResponse instanceof Function?t.handleCachedResponse(e):n(e)}):void(t.handleCachedResponse instanceof Function?t.handleCachedResponse(e):n(e))}function h(e,t){switch(t.dataType){case"json":return e.json();case"blob":return e.blob();case"arrayBuffer":return e.arrayBuffer();case"formData":return e.formData();case"text":return e.text();default:return e}}function p(e,t){return new Promise((n,r)=>{const o=setTimeout(()=>{r(new Error("Request Timeout"))},e);t.then(e=>{clearTimeout(o),n(e)},e=>{clearTimeout(o),r(e)})})}t.setCacheName=function(e){n=e},t.getCacheName=function(){return n},t.setDefaultTimeout=function(e){r=e},t.getDefaultTimeout=function(){return r},t.setDefaultCredentialsPolicy=function(e){o=e},t.getDefaultCredentialsPolicy=function(){return o},t.setDefaultHeaders=function(e,t){u[t]=e},t.getDefaultHeaders=function(e){return u[e]},t.setDefaultDataType=function(e){i=e},t.getDefaultDataType=function(){return i},t.get=function(e,t={},n){c=!1;var o=p((t=s(t,"GET")).timeout||r,fetch(e,t.init)).then(l).then(function(e){return c=!0,function(e,t,n){if(!t.useCache)return h(e,t);t.dataType?(console.log(t.dataType),h(e,t).then(function(e){c=!0,t.handleNetworkResponse instanceof Function?t.handleNetworkResponse(e):n(e)})):t.handleNetworkResponse instanceof Function?t.handleNetworkResponse(e):n(e)}(e,t,n)});return t.useCache&&function(e,t,n){t.matchAll,caches.match(e).then(l).then(function(e){return d(e,t,n)}).catch(function(e){console.log(e)})}(e,t,n),o},t.post=function(e,t,n){return a(e,n=f(t,n,"POST"))},t.put=function(e,t,n){return a(e,n=f(t,n,"PUT"))},t.delete=function(e,t){return a(e,t=s(t,"DELETE"))}}])});
//# sourceMappingURL=betterFetcher.min.js.map